<?xml version="1.0" ?>
<robot name="xarm7">
   <link name="link_base">
      <inertial>
         <origin xyz="-0.021131 -0.0016302 0.056488" rpy="0.44023105215876746 -0.1301362535007946 1.5177281818052935"/>
         <mass value="0.88556"/>
         <inertia ixx="0.00382023" iyy="0.00335282" izz="0.00167725" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual name="link_base">
         <origin xyz="-0.002330920659259287 7.635029826604813e-05 0.06466085765451927" rpy="0.051864352546477366 -0.00040942535987054107 1.5199482510605278"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/link_base.stl"/>
         </geometry>
      </visual>
      <collision>
         <origin xyz="-0.002330920659259287 7.635029826604813e-05 0.06466085765451927" rpy="0.051864352546477366 -0.00040942535987054107 1.5199482510605278"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/link_base.stl"/>
         </geometry>
      </collision>
   </link>
   
   <link name="link1">
      <inertial>
         <origin xyz="-0.0002 0.02905 -0.01233" rpy="-0.4080989784149497 -0.017863810427217963 -0.04272503237136302"/>
         <mass value="2.382"/>
         <inertia ixx="0.00569127" iyy="0.00533384" izz="0.00293865" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual name="link1">
         <origin xyz="-0.0001418553332473717 0.0074638475848720935 -0.02711420915765274" rpy="-0.3335973180073475 0.0043034379640525255 -0.0013704267832475303"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/link1.stl"/>
         </geometry>
      </visual>
      <collision>
         <origin xyz="-0.0001418553332473717 0.0074638475848720935 -0.02711420915765274" rpy="-0.3335973180073475 0.0043034379640525255 -0.0013704267832475303"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/link1.stl"/>
         </geometry>
      </collision>
   </link>

   <joint type="revolute" name="joint1">
      <parent link="link_base"/>
      <child link="link1"/>
      <origin xyz="0.0 0.0 0.267" rpy="0.0 0.0 0.0"/>
      <axis xyz="0.0 0.0 1.0"/>
      <limit lower="-6.28319" upper="6.28319" effort="50" velocity="3.14"/>
      <dynamics damping="10" friction="1"/>
   </joint>

   <link name="link2">
      <inertial>
         <origin xyz="0.00022 -0.12856 0.01735" rpy="2.089839775631659 -0.01617916364415617 -0.008620557950960617"/>
         <mass value="1.869"/>
         <inertia ixx="0.00959898" iyy="0.00937717" izz="0.00201315" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual name="link2">
         <origin xyz="-8.518079249929592e-05 -0.09124548913785831 0.04845536801044918" rpy="2.1639536091838565 -0.0020726553325203234 -0.001633118583858506"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/link2.stl"/>
         </geometry>
      </visual>
      <collision>
         <origin xyz="-8.518079249929592e-05 -0.09124548913785831 0.04845536801044918" rpy="2.1639536091838565 -0.0020726553325203234 -0.001633118583858506"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/link2.stl"/>
         </geometry>
      </collision>
   </link>
   
   <joint type="revolute" name="joint2">
      <parent link="link1"/>
      <child link="link2"/>
      <origin xyz="0.0 0.0 0.0" rpy="-1.5707963267948957 0.0 0.0"/>
      <axis xyz="0.0 0.0 1.0"/>
      <limit lower="-2.059" upper="2.0944" effort="50" velocity="3.14"/>
      <dynamics damping="10" friction="1"/>
   </joint>
   
   <link name="link3">
      <inertial>
         <origin xyz="0.0466 -0.02463 -0.00768" rpy="0.6444127540677473 0.5687517069246195 0.10346249911406036"/>
         <mass value="1.6383"/>
         <inertia ixx="0.00351721" iyy="0.00294089" izz="0.00195868" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual name="link3">
         <origin xyz="0.03116049140567881 0.0020180908913441306 -0.022566212798909326" rpy="0.40910176908308016 0.6031276066359279 0.26148088250700474"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/link3.stl"/>
         </geometry>
      </visual>
      <collision>
         <origin xyz="0.03116049140567881 0.0020180908913441306 -0.022566212798909326" rpy="0.40910176908308016 0.6031276066359279 0.26148088250700474"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/link3.stl"/>
         </geometry>
      </collision>
   </link>
   
   <joint type="revolute" name="joint3">
      <parent link="link2"/>
      <child link="link3"/>
      <origin xyz="0.0 -0.293 0.0" rpy="1.5707963267948963 0.0 0.0"/>
      <axis xyz="0.0 0.0 1.0"/>
      <limit lower="-6.28319" upper="6.28319" effort="30" velocity="3.14"/>
      <dynamics damping="5" friction="1"/>
   </joint>
   
   <link name="link4">
      <inertial>
         <origin xyz="0.07047 -0.11575 0.012" rpy="2.211979235177638 -0.629020395199348 0.029707593805708754"/>
         <mass value="1.7269"/>
         <inertia ixx="0.00657137" iyy="0.00647948" izz="0.00186763" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual name="link4">
         <origin xyz="0.05894856993202059 -0.07610492940771568 0.04029048800181529" rpy="2.138364865984172 0.1740691355031294 0.6641344305654312"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/link4.stl"/>
         </geometry>
      </visual>
      <collision>
         <origin xyz="0.05894856993202059 -0.07610492940771568 0.04029048800181529" rpy="2.138364865984172 0.1740691355031294 0.6641344305654312"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/link4.stl"/>
         </geometry>
      </collision>
   </link>
   
   <joint type="revolute" name="joint4">
      <parent link="link3"/>
      <child link="link4"/>
      <origin xyz="0.0525 0.0 0.0" rpy="1.5707963267948963 0.0 0.0"/>
      <axis xyz="0.0 0.0 1.0"/>
      <limit lower="-0.19198" upper="3.927" effort="30" velocity="3.14"/>
      <dynamics damping="5" friction="1"/>
   </joint>

   <link name="link5">
      <inertial>
         <origin xyz="-0.00032 0.01604 -0.026" rpy="-0.060862747127358625 0.002444739360476511 0.042364854361127045"/>
         <mass value="1.3203"/>
         <inertia ixx="0.00534729" iyy="0.00499076" izz="0.0013489" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual name="link5">
         <origin xyz="-0.0001655187184941466 0.0317918270067044 -0.07229184425357928" rpy="-0.2898391281315331 0.0037330573805807177 0.016070437312645958"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/link5.stl"/>
         </geometry> 
      </visual>
      <collision>
         <origin xyz="-0.0001655187184941466 0.0317918270067044 -0.07229184425357928" rpy="-0.2898391281315331 0.0037330573805807177 0.016070437312645958"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/link5.stl"/>
         </geometry>
      </collision>
   </link>
   <joint type="revolute" name="joint5">
      <parent link="link4"/>
      <child link="link5"/>
      <origin xyz="0.0775 -0.3425 0.0" rpy="1.5707963267948963 0.0 0.0"/>
      <axis xyz="0.0 0.0 1.0"/>
      <limit lower="-6.28319" upper="6.28319" effort="30" velocity="3.14"/>
      <dynamics damping="5" friction="1"/>
   </joint>

   <link name="link6">
      <inertial>
         <origin xyz="0.06469 0.03278 0.02141" rpy="-2.5954348069975257 -1.278629910190865 0.0043130309212413565"/>
         <mass value="1.325"/>
         <inertia ixx="0.00245421" iyy="0.00221646" izz="0.00107273" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual name="link6">
         <origin xyz="0.04899680629282065 0.011248594145888224 0.009047722000570012" rpy="-2.928036193060328 -1.2794502935065157 0.08501521097360687"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/link6.stl"/>
         </geometry> 
      </visual>
      <collision>
         <origin xyz="0.04899680629282065 0.011248594145888224 0.009047722000570012" rpy="-2.928036193060328 -1.2794502935065157 0.08501521097360687"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/link6.stl"/>
         </geometry>
      </collision>
   </link>
   <joint type="revolute" name="joint6">
      <parent link="link5"/>
      <child link="link6"/>
      <origin xyz="0.0 0.0 0.0" rpy="1.5707963267948963 0.0 0.0"/>
      <axis xyz="0.0 0.0 1.0"/>
      <limit lower="-1.69297" upper="3.14159" effort="20" velocity="3.14"/>
      <dynamics damping="2" friction="1"/>
   </joint>

   <link name="link7">
      <inertial>
         <origin xyz="0.0 -0.00677 -0.01098" rpy="3.141592653589793 -1.521839417373044 -1.5707963267948966"/>
         <mass value="0.17"/>
         <inertia ixx="0.000132176" iyy="9.3e-05" izz="5.85236e-05" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual name="end_tool">
         <origin xyz="3.414990570124057e-08 -0.0014353044722618057 -0.013516014737403683" rpy="3.141592653589793 -1.5687955761878776 -1.5707963267948966"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/end_tool.stl"/>
         </geometry>
      </visual>
      <collision>
         <origin xyz="3.414990570124057e-08 -0.0014353044722618057 -0.013516014737403683" rpy="3.141592653589793 -1.5687955761878776 -1.5707963267948966"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/end_tool.stl"/>
         </geometry>
      </collision>
   </link>

   <joint type="revolute" name="joint7">
      <parent link="link6"/>
      <child link="link7"/>
      <origin xyz="0.076 0.097 0.0" rpy="-1.5707963267948957 0.0 0.0"/>
      <axis xyz="0.0 0.0 1.0"/>
      <limit lower="-6.28319" upper="6.28319" effort="20" velocity="3.14"/>
      <dynamics damping="2" friction="1"/>
   </joint>

   <link name="tcp"/>

   <joint name="joint_tcp" type="fixed">
      <origin xyz="0 0 0.172" rpy="0 0 0"/>  
      <parent link="xarm_gripper_base_link"/>
      <child link="tcp"/>
   </joint>

   <!-- from https://github.com/xArm-Developer/xarm_ros/blob/master/xarm_description/urdf/gripper/xarm_gripper.urdf.xacro -->
   <!-- XArm Gripper Start -->
   <link name="xarm_gripper_base_link">
      <inertial>
         <origin xyz="-0.00065489 -0.0018497 0.048028" rpy="0 0 0"/>
         <mass value="0.54156"/>
         <inertia ixx="0.00047106" ixy="3.9292E-07" ixz="2.6537E-06" iyy="0.00033072" iyz="-1.0975E-05" izz="0.00025642"/>
      </inertial>
      <visual>
         <origin xyz="0 0 0" rpy="0 0 0"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/base_link.stl"/>
         </geometry>
         <material name="White">
            <color rgba="1.0 1.0 1.0 1.0"/>
         </material>
      </visual>
      <collision>
         <origin xyz="0 0 0" rpy="0 0 0"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/base_link.stl"/>
         </geometry>
      </collision>
   </link>

   <joint name="gripper_fix" type="fixed">
      <parent link="link7"/>
      <child link="xarm_gripper_base_link"/>
      <origin xyz="0 0 0" rpy="0 0 0"/>
   </joint>

   <link name="left_outer_knuckle">
      <inertial>
         <origin xyz="2.9948E-14 0.021559 0.015181" rpy="0 0 0"/>
         <mass value="0.033618"/>
         <inertia ixx="1.9111E-05" ixy="-1.8803E-17" ixz="-1.1002E-17" iyy="6.6256E-06" iyz="-7.3008E-06" izz="1.3185E-05"/>
      </inertial>
      <visual>
         <origin xyz="0 0 0" rpy="0 0 0"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/left_outer_knuckle.stl"/>
         </geometry>
         <material name="Silver">
            <color rgba="0.753 0.753 0.753 1.0"/>
         </material>
      </visual>
      <collision>
         <origin xyz="0 0 0" rpy="0 0 0"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/left_outer_knuckle.stl"/>
         </geometry>
      </collision>
   </link>

   <link name="left_finger">
      <inertial>
         <origin xyz="-2.4536E-14 -0.016413 0.029258" rpy="0 0 0"/>
         <mass value="0.048304"/>
         <inertia ixx="1.7493E-05" ixy="-4.2156E-19" ixz="6.9164E-18" iyy="1.7225E-05" iyz="4.6433E-06" izz="5.1466E-06"/>
      </inertial>
      <visual>
         <origin xyz="0 0 0" rpy="0 0 0"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/left_finger.stl"/>
         </geometry>
         <material name="Silver">
            <color rgba="0.753 0.753 0.753 1.0"/>
         </material>
      </visual>
      <collision>
         <origin xyz="0 0 0" rpy="0 0 0"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/left_finger.stl"/>
         </geometry>
      </collision>
   </link>

   <link name="left_inner_knuckle">
      <inertial>
         <origin xyz="1.866E-06 0.022047 0.026133" rpy="0 0 0"/>
         <mass value="0.023013"/>
         <inertia ixx="6.0949E-06" ixy="6.0665E-11" ixz="7.191E-11" iyy="6.0197E-06" iyz="-2.7531E-06" izz="5.0784E-06"/>
      </inertial>
      <visual>
         <origin xyz="0 0 0" rpy="0 0 0"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/left_inner_knuckle.stl"/>
         </geometry>
         <material name="Silver">
            <color rgba="0.753 0.753 0.753 1.0"/>
         </material>
      </visual>
      <collision>
         <origin xyz="0 0 0" rpy="0 0 0"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/left_inner_knuckle.stl"/>
         </geometry>
      </collision>
   </link>

   <link name="right_outer_knuckle">
      <inertial>
         <origin xyz="-3.1669E-14 -0.021559 0.015181" rpy="0 0 0"/>
         <mass value="0.033618"/>
         <inertia ixx="1.9111E-05" ixy="-1.8789E-17" ixz="1.0986E-17" iyy="6.6256E-06" iyz="7.3008E-06" izz="1.3185E-05"/>
      </inertial>
      <visual>
         <origin xyz="0 0 0" rpy="0 0 0"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/right_outer_knuckle.stl"/>
         </geometry>
         <material name="Silver">
            <color rgba="0.753 0.753 0.753 1.0"/>
         </material>
      </visual>
      <collision>
         <origin xyz="0 0 0" rpy="0 0 0"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/right_outer_knuckle.stl"/>
         </geometry>
      </collision>
   </link>

   <link name="right_finger">
      <inertial>
         <origin xyz="2.5618E-14 0.016413 0.029258" rpy="0 0 0"/>
         <mass value="0.048304"/>
         <inertia ixx="1.7493E-05" ixy="-5.0014E-19" ixz="-7.5079E-18" iyy="1.7225E-05" iyz="-4.6435E-06" izz="5.1466E-06"/>
      </inertial>
      <visual>
         <origin xyz="0 0 0" rpy="0 0 0"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/right_finger.stl"/>
         </geometry>
         <material name="Silver">
            <color rgba="0.753 0.753 0.753 1.0"/>
         </material>
      </visual>
      <collision>
         <origin xyz="0 0 0" rpy="0 0 0"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/right_finger.stl"/>
         </geometry>
      </collision>
   </link>

   <link name="right_inner_knuckle">
      <inertial>
         <origin xyz="1.866E-06 -0.022047 0.026133" rpy="0 0 0"/>
         <mass value="0.023013"/>
         <inertia ixx="6.0949E-06" ixy="-6.0665E-11" ixz="7.191E-11" iyy="6.0197E-06" iyz="2.7531E-06" izz="5.0784E-06"/>
      </inertial>
      <visual>
         <origin xyz="0 0 0" rpy="0 0 0"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/right_inner_knuckle.stl"/>
         </geometry>
         <material name="Silver">
            <color rgba="0.753 0.753 0.753 1.0"/>
         </material>
      </visual>
      <collision>
         <origin xyz="0 0 0" rpy="0 0 0"/>
         <geometry>
            <mesh filename="internavi/assets/assets/xarm7/right_inner_knuckle.stl"/>
         </geometry>
      </collision>
   </link>

   <joint name="left_drive_joint" type="revolute">
      <origin xyz="0 0.035 0.059098" rpy="0 0 0"/>
      <parent link="xarm_gripper_base_link"/>
      <child link="left_outer_knuckle"/>
      <axis xyz="1 0 0"/>
      <limit lower="0" upper="0.85" effort="50" velocity="2"/>
   </joint>

   <joint name="left_finger_joint" type="revolute">
      <origin xyz="0 0.035465 0.042039" rpy="0 0 0"/>
      <parent link="left_outer_knuckle"/>
      <child link="left_finger"/>
      <axis xyz="-1 0 0"/>
      <limit lower="0" upper="0.85" effort="50" velocity="2"/>
   </joint>

   <joint name="left_inner_knuckle_joint" type="revolute">
      <origin xyz="0 0.02 0.074098" rpy="0 0 0"/>
      <parent link="xarm_gripper_base_link"/>
      <child link="left_inner_knuckle"/>
      <axis xyz="1 0 0"/>
      <limit lower="0" upper="0.85" effort="50" velocity="2"/>
   </joint>

   <joint name="right_drive_joint" type="revolute">
      <origin xyz="0 -0.035 0.059098" rpy="0 0 0"/>
      <parent link="xarm_gripper_base_link"/>
      <child link="right_outer_knuckle"/>
      <axis xyz="-1 0 0"/>
      <limit lower="0" upper="0.85" effort="50" velocity="2"/>
   </joint>

   <joint name="right_finger_joint" type="revolute">
      <origin xyz="0 -0.035465 0.042039" rpy="0 0 0"/>
      <parent link="right_outer_knuckle"/>
      <child link="right_finger"/>
      <axis xyz="1 0 0"/>
      <limit lower="0" upper="0.85" effort="50" velocity="2"/>
   </joint>

   <joint name="right_inner_knuckle_joint" type="revolute">
      <origin xyz="0 -0.02 0.074098" rpy="0 0 0"/>
      <parent link="xarm_gripper_base_link"/>
      <child link="right_inner_knuckle"/>
      <axis xyz="-1 0 0"/>
      <limit lower="0" upper="0.85" effort="50" velocity="2"/>
   </joint>

</robot>
